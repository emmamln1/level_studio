/* Marketing Services — Responsive Media Queries
   This file progressively enhances the base styles in `service.css`.
   Focus: layout scaling, touch targets, overflow safety, and reduced motion support.
*/

/* --- Accessibility & Performance helpers (global) --- */
/* Respect users who prefer reduced motion */
@media (prefers-reduced-motion: reduce) {
  .service-card-item,
  .services-progress-bar,
  .navigation-dot,
  .service-preview-label {
    transition-duration: 0.01ms !important;
  }
  .navigation-dot.active-dot::before { /* disable pulse */
    animation: none !important;
  }
  /* turn off any heavy particle/keyframe animations inside the field */
  .services-animation-field *,
  .services-animation-field {
    animation: none !important;
  }
}

/* Backdrop blur fallback for feature tags on older browsers */
.service-feature-tag {
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
}
@supports not ((-webkit-backdrop-filter: blur(1px)) or (backdrop-filter: blur(1px))) {
  .service-feature-tag {
    /* Slightly stronger fill if blur unsupported */
    background: rgba(255, 255, 255, 0.08);
  }
}

/* Guard against horizontal overflow at smaller paddings */
.marketing-services-container {
  overflow-x: hidden;
}

/* =============================
   ≤ 1024px — Tablets/Small Laptops
   -----------------------------
   - Reduce container height
   - Tighten paddings and gaps
   - Preserve readability and navigation
   ============================= */
@media (max-width: 1024px) {
  .marketing-services-container {
    height: 85vh; /* from 90vh */
  }

  .services-content-wrapper {
    padding: 0 30px; /* from 40px */
  }

  .services-display-area {
    height: 420px; /* optimized from 500px */
  }

  .service-title-heading {
    letter-spacing: -1px; /* keep large text compact */
  }

  .service-description-text {
    max-width: 720px; /* slightly narrower for moderate viewports */
  }

  .service-features-list {
    gap: 16px; /* from 20px */
  }

  /* Keep preview labels closer to the active card */
  .service-preview-label.previous-service { top: -110px; }
  .service-preview-label.next-service { bottom: -110px; }

  .services-navigation-dots {
    bottom: 40px; /* raise a bit */
    gap: 18px;
  }

  /* Accessibility: ensure a minimum 44x44px touch target while keeping a small visual dot.
     We make the element the touch target (padding + negative margin to neutralize layout)
     and render the visual dot inside with ::after. */
  .navigation-dot {
    background: transparent; /* visual handled by ::after */
    padding: 16px;            /* 12px dot + 16px*2 = 44px target */
    margin: -16px;            /* prevents layout growth due to padding */
    box-sizing: content-box;
  }
  .navigation-dot.active-dot { /* neutralize base active styles */
    background: transparent;
    transform: none;
  }
  .navigation-dot::after {
    content: '';
    display: block;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transition: transform 0.3s ease, background 0.3s ease;
  }
  .navigation-dot.active-dot::after {
    background: #ffffff;
    transform: scale(1.3);
  }
  /* Keep pulse ring sized to the visual dot */
  .navigation-dot.active-dot::before {
    width: 24px;
    height: 24px;
  }
}

/* =============================
   ≤ 768px — Tablets Portrait
   -----------------------------
   - Further reduce container height
   - Smaller paddings and gaps
   - Prepare for tighter layouts; keep navigation legible
   ============================= */
@media (max-width: 768px) {
  .marketing-services-container {
    height: 80vh; /* from 85vh */
  }

  .services-content-wrapper {
    padding: 0 20px; /* from 30px */
  }

  .services-display-area {
    height: 380px; /* optimize vertical space */
  }

  .service-description-text {
    max-width: 560px;
    line-height: 1.5; /* slightly looser for readability */
  }

  .service-features-list {
    gap: 14px; /* stack-friendly spacing */
  }

  .service-preview-label.previous-service { top: -90px; }
  .service-preview-label.next-service { bottom: -90px; }

  .services-navigation-dots {
    bottom: 28px;
    gap: 12px;
  }

  /* Maintain 44px touch target */
  .navigation-dot {
    padding: 16px;
    margin: -16px;
    background: transparent;
  }
  .navigation-dot.active-dot { /* neutralize base active styles */
    background: transparent;
    transform: none;
  }
  .navigation-dot::after {
    width: 12px;
    height: 12px;
    content: '';
    display: block;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transition: transform 0.3s ease, background 0.3s ease;
  }

  /* Lightly dim background effects to favor performance */
  .services-animation-field { opacity: 0.6; }
}

/* =============================
   ≤ 480px — Mobile Devices
   -----------------------------
   - Mobile-first constraints
   - Minimal paddings
   - Single-column features
   - Smaller visual dots with 44px+ touch area
   - Prevent horizontal overflow
   ============================= */
@media (max-width: 480px) {
  .marketing-services-container {
    height: 75vh; /* mobile viewport-friendly */
  }

  .services-content-wrapper {
    padding: 0 12px; /* 10–15px range */
  }

  .services-display-area {
    height: 340px; /* conserve vertical space */
  }

  .service-title-heading {
    letter-spacing: -0.5px;
    line-height: 1; /* tighter but readable for Armenian text */
  }

  .service-description-text {
    max-width: 100%;
    font-size: clamp(14px, 3.6vw, 18px); /* ensure legibility on small screens */
  }

  /* Single-column features layout */
  .service-features-list {
    flex-direction: column;
    align-items: stretch;
    gap: 10px;
    margin-top: 16px;
  }
  .service-feature-tag {
    width: 100%;
    text-align: center;
    padding: 10px 14px;
    font-size: clamp(12px, 3.4vw, 14px);
  }

  .services-navigation-dots {
    bottom: 20px;
    gap: 10px; /* tighter gaps, but large touch zones remain */
  }

  /* Smaller visual dots, keep 44px+ interactive area */
  .navigation-dot {
    padding: 17px; /* 10px dot + 17*2 = 44px */
    margin: -17px;
    background: transparent;
  }
  .navigation-dot.active-dot { /* neutralize base active styles */
    background: transparent;
    transform: none;
  }
  .navigation-dot::after {
    width: 10px;
    height: 10px;
    content: '';
    display: block;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.3);
    transition: transform 0.3s ease, background 0.3s ease;
  }
  .navigation-dot.active-dot::before {
    width: 20px;
    height: 20px; /* scale pulse ring slightly down */
  }

  /* Defense against any potential overflow from transforms/pulse */
  .marketing-services-container,
  .services-content-wrapper,
  .services-display-area {
    overflow-x: hidden;
  }

  /* Further tone down background effects to help mobile performance */
  .services-animation-field { opacity: 0.45; }
}